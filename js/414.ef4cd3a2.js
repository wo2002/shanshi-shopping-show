"use strict";(self["webpackChunkhm_shopping"]=self["webpackChunkhm_shopping"]||[]).push([[414],{1414:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"comment"},[e("div",{staticClass:"header"},[e("van-nav-bar",{attrs:{title:"商品评价页","left-text":"返回","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}})],1),e("div",{staticClass:"middle"},[e("div",{staticClass:"nav"},[e("ul",t._l(t.choose,(function(s,o){return e("li",{key:o},[e("a",{class:{active:t.activeId===o},on:{click:function(e){return t.commentData(o)}}},[t._v(t._s(s))])])})),0)]),t._l(t.list,(function(s){return e("div",{key:s.comment_id,staticClass:"comment-item"},[e("div",{staticClass:"top"},[e("img",{attrs:{src:s.user.avatar_url||t.defaultImg,alt:""}}),e("div",{staticClass:"name"},[t._v(t._s(s.user.nick_name))]),e("van-rate",{attrs:{size:16,value:s.score/10,color:"#ffd21e","void-icon":"star","void-color":"#eee"}})],1),e("div",{staticClass:"content"},[t._v(" "+t._s(s.content)+" ")]),e("div",{staticClass:"time"},[t._v(" "+t._s(s.create_time)+" ")])])}))],2)])},a=[],i=s(5008),n=s(1787),c=s(6945),r={name:"CommentList",data(){return{total:"",activeId:0,type:-1,list:[],detail:{},defaultImg:c,choose:["全部","好评","中评","差评"]}},computed:{goodsId(){return this.$route.params.id}},async created(){const{data:{detail:t}}=await(0,n.A)(this.goodsId);console.log(t),this.detail=t,this.getCommentList()},methods:{async getCommentList(){const{data:{list:{data:t}}}=await(0,i.R)({scoreType:this.type,goodsId:this.detail.goods_id,page:1});console.log(t),this.list=t},commentData(t){console.log(t),this.activeId=t,0===t&&(this.type=-1,this.getCommentList(),this.total=this.list.length),1===t&&(this.type=30,this.getCommentList()),2===t&&(this.type=20,this.getCommentList()),3===t&&(this.type=10,this.getCommentList())}}},d=r,l=s(1001),m=(0,l.Z)(d,o,a,!1,null,"6c306e80",null),u=m.exports},5008:function(t,e,s){s.d(e,{R:function(){return i},y:function(){return a}});var o=s(4471);const a=(t,e)=>o.Z.get("/comment/listRows",{params:{goodsId:t,limit:e}}),i=t=>{const{scoreType:e,goodsId:s,page:a}=t;return o.Z.get("/comment/list",{params:{scoreType:e,goodsId:s,page:a}})}},1787:function(t,e,s){s.d(e,{A:function(){return i},o:function(){return a}});var o=s(4471);const a=t=>{const{categoryId:e,goodsName:s,page:a}=t;return o.Z.get("/goods/list",{params:{categoryId:e,goodsName:s,page:a}})},i=t=>o.Z.get("/goods/detail",{params:{goodsId:t}})}}]);
//# sourceMappingURL=414.ef4cd3a2.js.map